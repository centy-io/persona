---
displayNumber: 14
status: open
priority: 2
createdAt: 2026-02-25T21:29:38.777380+00:00
updatedAt: 2026-02-25T21:29:38.777380+00:00
---

# CI/CD pipeline to publish to npm with OIDC

## Overview

Set up a GitHub Actions workflow that publishes the package to npm using OIDC (OpenID Connect) for keyless authentication. This avoids storing long-lived npm tokens as secrets by using Trusted Publishers (npm provenance).

## Tasks

- Configure the npm package with `"provenance": true` in `package.json` publish config
- Create `.github/workflows/publish.yml` triggered on version tag pushes (`v*`)
- Grant the workflow `id-token: write` and `contents: read` permissions
- Use `actions/setup-node` with `registry-url: https://registry.npmjs.org` and `node-version` from `.nvmrc` or a pinned LTS
- Add a `build` step before publishing
- Publish via `npm publish --provenance --access public` (or private, depending on scope)
- Configure npm Trusted Publishers on the npmjs.com package settings to allow the GitHub Actions OIDC issuer

## Acceptance Criteria

- Pushing a tag matching `v*` triggers the publish workflow
- No `NPM_TOKEN` secret is required â€” authentication is handled via OIDC
- Published package has a verifiable provenance attestation on npmjs.com
- Workflow fails gracefully if the build step fails
